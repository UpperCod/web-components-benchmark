!function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){t.appendChild(e)}function o(t,e,n){t.insertBefore(e,n)}function i(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function r(){return document.createComment("")}function u(t,e,n,o){t.addEventListener(e,n,o)}function a(t,e,n,o){t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function f(t,e){t.data=""+e}function d(t,e){t.d(1),e[t.key]=null}function l(t,e,n,o,i,s,c,r,u,a,h,f,d,l){function _(t){t[f](u,d),r[t.key]=t,d=t.first,g--}for(var m=t.length,g=c.length,p=m,v={};p--;)v[t[p].key]=p;for(var k=[],x={},y={},p=g;p--;){var b=l(s,c,p),L=o(b),w=r[L];w?i&&w.p(n,b):(w=h(e,L,b)).c(),k[p]=x[L]=w,L in v&&(y[L]=Math.abs(p-v[L]))}for(var C={},E={};m&&g;){var T=k[g-1],M=t[m-1],H=T.key,R=M.key;T===M?(d=T.first,m--,g--):x[R]?!r[H]||C[H]?_(T):E[R]?m--:y[H]>y[R]?(E[H]=!0,_(T)):(C[R]=!0,m--):(a(M,r),m--)}for(;m--;)x[(M=t[m]).key]||a(M,r);for(;g;)_(k[g-1]);return k}function _(){return Object.create(null)}function m(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}}function g(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function p(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1){var i=n[o];if(!i.__calling)try{i.__calling=!0,i.call(this,e)}finally{i.__calling=!1}}}function v(t){t._lock=!0,C(t._beforecreate),C(t._oncreate),C(t._aftercreate),t._lock=!1}function k(){return this._state}function x(t,e){t._handlers=_(),t._slots=_(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function y(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function b(t){this._set(e({},t)),this.root._lock||v(this.root)}function L(t){var n=this._state,o={},i=!1;t=e(this._staged,t),this._staged={};for(var s in t)this._differs(t[s],n[s])&&(o[s]=i=!0);i&&(this._state=e(e({},n),t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),this._fragment&&(this.fire("state",{changed:o,current:this._state,previous:n}),this._fragment.p(o,this._state),this.fire("update",{changed:o,current:this._state,previous:n})))}function w(t){e(this._staged,t)}function C(t){for(;t&&t.length;)t.shift()()}function E(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}function T({checked:checked}){return checked?"completed":""}function M(e,r){function d(t){e.fire("toggle")}function l(t){e.fire("remove")}var _,m,g,p,v,k,x,y;return{c(){_=s("li"),m=s("input"),g=c("\n    "),p=s("label"),v=c(r.text),k=c("\n    "),(x=s("button")).textContent="x",this.c=t,u(m,"click",d),h(m,"type","checkbox"),m.checked=r.checked,u(x,"click",l),x.className="destroy",_.className=y="item "+r.statusClass},m(t,e){o(t,_,e),n(_,m),n(_,g),n(_,p),n(p,v),n(_,k),n(_,x)},p(t,e){t.checked&&(m.checked=e.checked),t.text&&f(v,e.text),t.statusClass&&y!==(y="item "+e.statusClass)&&(_.className=y)},d(t){t&&i(_),a(m,"click",d),a(x,"click",l)}}}function H(e,c){function r(){_=!0,e.set({text:l.value}),_=!1}function f(t){t.preventDefault(),e.create(c.text)}var d,l,_=!1;return{c(){d=s("form"),l=s("input"),this.c=t,u(l,"input",r),l.id="new-todo",h(l,"type","text"),l.placeholder="What needs to be done?",u(d,"submit",f),d.id="new-todo-form"},m(t,e){o(t,d,e),n(d,l),l.value=c.text},p(t,e){c=e,!_&&t.text&&(l.value=c.text)},d(t){t&&i(d),a(l,"input",r),a(d,"submit",f)}}}function R(){return{todoList:W}}function N(t,e,n){const o=Object.create(t);return o.todo=e[n],o.index=n,o}function B(e,r){function h(t){e.addItem(t.detail)}var f,m,g,p,v,k,x=[],y=_(),b=r.todoList;const L=t=>t.todo.id;for(var w=0;w<b.length;w+=1){let t=N(r,b,w),n=L(t);x[w]=y[n]=S(e,n,t)}return{c(){for((f=s("h1")).textContent="Todos Svelte",m=c("\n"),g=s("section"),p=s("todo-input"),v=c("\n    "),k=s("ul"),w=0;w<x.length;w+=1)x[w].c();this.c=t,u(p,"create",h),k.id="list-container"},m(t,e){for(o(t,f,e),o(t,m,e),o(t,g,e),n(g,p),n(g,v),n(g,k),w=0;w<x.length;w+=1)x[w].m(k,null)},p(t,n){const o=n.todoList;x=l(x,e,t,L,1,n,o,y,k,d,S,"m",null,N)},d(t){for(t&&(i(f),i(m),i(g)),a(p,"create",h),w=0;w<x.length;w+=1)x[w].d()}}}function S(t,e,n){var s,c={text:n.todo.text,checked:n.todo.checked},u=new I({root:t.root,store:t.store,data:c});return u.on("toggle",function(e){t.toggleItem(n.todo)}),u.on("remove",function(e){t.removeItem(n.index)}),{key:e,first:null,c(){s=r(),u._fragment.c(),this.first=s},m(t,e){o(t,s,e),u._mount(t,e)},p(t,e){n=e;var o={};t.todoList&&(o.text=n.todo.text),t.todoList&&(o.checked=n.todo.checked),u._set(o)},d(t){t&&i(s),u.destroy(t)}}}var j={destroy:m,get:k,fire:p,on:y,set:b,_recompute:t,_set:L,_stage:w,_mount:E,_differs:g};class I extends HTMLElement{constructor(t={}){super(),x(this,t),this._state=e({},t.data),this._recompute({checked:1},this._state),this._intro=!0,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>:host{display:block}li.item{font-size:24px;display:block;position:relative;border-bottom:1px solid #ededed}li.item input{text-align:center;width:40px;height:auto;position:absolute;top:9px;bottom:0;margin:auto 0;border:none;-webkit-appearance:none;appearance:none}li.item input:after{content:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="none" stroke="#ededed" stroke-width="3"/></svg>')}li.item input:checked:after{content:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="none" stroke="#bddad5" stroke-width="3"/><path fill="#5dc2af" d="M72 25L42 71 27 56l-4 4 20 20 34-52z"/></svg>')}li.item label{white-space:pre;word-break:break-word;padding:15px 60px 15px 15px;margin-left:45px;display:block;line-height:1.2;transition:color 0.4s}li.item.completed label{color:#d9d9d9;text-decoration:line-through}li.item button,li.item input[type="checkbox"]{outline:none}li.item button{margin:0;padding:0;border:0;background:none;font-size:100%;vertical-align:baseline;font-family:inherit;font-weight:inherit;color:inherit;-webkit-appearance:none;appearance:none;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;font-smoothing:antialiased}li.item .destroy{position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0;font-size:30px;color:#cc9a9a;margin-bottom:11px;transition:color 0.2s ease-out}li.item .destroy:hover{color:#af5b5e}</style>`,this._fragment=M(this,this._state),this._fragment.c(),this._fragment.m(this.shadowRoot,null),t.target&&this._mount(t.target,t.anchor)}static get observedAttributes(){return["text","checked","index"]}get text(){return this.get().text}set text(t){this.set({text:t})}get checked(){return this.get().checked}set checked(t){this.set({checked:t})}get index(){return this.get().index}set index(t){this.set({index:t})}attributeChangedCallback(t,e,n){this.set({[t]:n})}}e(I.prototype,j),e(I.prototype,{_mount(t,e){t.insertBefore(this,e)}}),customElements.define("todo-item",I),I.prototype._recompute=function(t,e){t.checked&&this._differs(e.statusClass,e.statusClass=T(e))&&(t.statusClass=!0)};var O={create(t){const e=new CustomEvent("create",{detail:t,bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(e),this.set({text:""})}};class A extends HTMLElement{constructor(t={}){super(),x(this,t),this._state=e({text:""},t.data),this._intro=!0,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>#new-todo-form{position:relative;font-size:24px;border-bottom:1px solid #ededed}#new-todo{padding:16px 16px 16px 60px;border:none;background:rgba(0, 0, 0, 0.003);position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;border:0;outline:none;color:inherit;padding:6px;border:1px solid #CCC;box-shadow:inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);box-sizing:border-box}</style>`,this._fragment=H(this,this._state),this._fragment.c(),this._fragment.m(this.shadowRoot,null),t.target&&this._mount(t.target,t.anchor)}static get observedAttributes(){return[]}attributeChangedCallback(t,e,n){this.set({[t]:n})}}e(A.prototype,j),e(A.prototype,O),e(A.prototype,{_mount(t,e){t.insertBefore(this,e)}}),customElements.define("todo-input",A);let W=[{text:"my initial todo",checked:!1,id:41},{text:"Learn about Web Components",checked:!0,id:42}];var D={addItem(t){const{todoList:todoList}=this.get();todoList.push({text:t,checked:!1,id:todoList[todoList.length-1].id+1}),this.set({todoList:todoList})},removeItem(t){const{todoList:todoList}=this.get();todoList.splice(t,1),this.set({todoList:todoList})},toggleItem(t){t.checked=!t.checked,this.set({todoList:this.get().todoList})}};class q extends HTMLElement{constructor(t={}){super(),x(this,t),this._state=e(R(),t.data),this._intro=!0,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>h1{font-size:90px;font-weight:100;text-align:center;color:rgba(175, 47, 47, 0.15)}section{background:#fff;margin:130px 0 40px 0;position:relative;box-shadow:0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1)}#list-container{margin:0;padding:0;list-style:none;border-top:1px solid #e6e6e6}</style>`,this._fragment=B(this,this._state),this._fragment.c(),this._fragment.m(this.shadowRoot,null),t.target&&this._mount(t.target,t.anchor)}static get observedAttributes(){return[]}attributeChangedCallback(t,e,n){this.set({[t]:n})}connectedCallback(){v(this)}}e(q.prototype,j),e(q.prototype,D),e(q.prototype,{_mount(t,e){t.insertBefore(this,e)}}),customElements.define("my-todo",q)}();
